!function(s,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(s="undefined"!=typeof globalThis?globalThis:s||self).dayjs_plugin_duration=t()}(this,function(){"use strict";function r(s){return s instanceof y}function o(s,t,i){return new y(s,i,t.$l)}function e(s){return a.p(s)+"s"}function i(s){return s<0?Math.ceil(s):Math.floor(s)}function d(s,t){return s?s<0?{negative:!0,format:""+Math.abs(s)+t}:{negative:!1,format:""+s+t}:{negative:!1,format:""}}function u(s,t,i){return s.add(t.years()*i,"y").add(t.months()*i,"M").add(t.days()*i,"d").add(t.hours()*i,"h").add(t.minutes()*i,"m").add(t.seconds()*i,"s").add(t.milliseconds()*i,"ms")}var h,a,s,t=36e5,n=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,m=2592e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,$={years:f,months:m,days:n,hours:t,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},y=((s=g.prototype).calMilliseconds=function(){var i=this;this.$ms=Object.keys(this.$d).reduce(function(s,t){return s+(i.$d[t]||0)*$[t]},0)},s.parseFromMilliseconds=function(){var s=this.$ms;this.$d.years=i(s/f),this.$d.months=i((s%=f)/m),this.$d.days=i((s%=m)/n),this.$d.hours=i((s%=n)/t),this.$d.minutes=i((s%=t)/6e4),this.$d.seconds=i((s%=6e4)/1e3),this.$d.milliseconds=s%=1e3},s.toISOString=function(){var s=d(this.$d.years,"Y"),t=d(this.$d.months,"M"),i=+this.$d.days||0,i=(this.$d.weeks&&(i+=7*this.$d.weeks),d(i,"D")),n=d(this.$d.hours,"H"),e=d(this.$d.minutes,"M"),r=this.$d.seconds||0,r=(this.$d.milliseconds&&(r+=this.$d.milliseconds/1e3),d(r,"S")),o=s.negative||t.negative||i.negative||n.negative||e.negative||r.negative,u=n.format||e.format||r.format?"T":"",o=(o?"-":"")+"P"+s.format+t.format+i.format+u+n.format+e.format+r.format;return"P"==o||"-P"==o?"P0D":o},s.toJSON=function(){return this.toISOString()},s.format=function(s){var s=s||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:a.s(this.$d.years,2,"0"),YYYY:a.s(this.$d.years,4,"0"),M:this.$d.months,MM:a.s(this.$d.months,2,"0"),D:this.$d.days,DD:a.s(this.$d.days,2,"0"),H:this.$d.hours,HH:a.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:a.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:a.s(this.$d.seconds,2,"0"),SSS:a.s(this.$d.milliseconds,3,"0")};return s.replace(c,function(s,t){return t||String(i[s])})},s.as=function(s){return this.$ms/$[e(s)]},s.get=function(s){var t=this.$ms,s=e(s);return"milliseconds"===s?t%=1e3:t="weeks"===s?i(t/$[s]):this.$d[s],0===t?0:t},s.add=function(s,t,i){t=t?s*$[e(t)]:(r(s)?s:o(s,this)).$ms;return o(this.$ms+t*(i?-1:1),this)},s.subtract=function(s,t){return this.add(s,t,!0)},s.locale=function(s){var t=this.clone();return t.$l=s,t},s.clone=function(){return o(this.$ms,this)},s.humanize=function(s){return h().add(this.$ms,"ms").locale(this.$l).fromNow(!s)},s.valueOf=function(){return this.asMilliseconds()},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},g);function g(t,s,i){var n=this;if(this.$d={},this.$l=i,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return o(t*$[e(s)],this);if("number"==typeof t)this.$ms=t,this.parseFromMilliseconds();else if("object"==typeof t)Object.keys(t).forEach(function(s){n.$d[e(s)]=t[s]}),this.calMilliseconds();else if("string"==typeof t){i=t.match(l);if(i)s=i.slice(2).map(function(s){return null!=s?Number(s):0}),this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds()}return this}return function(s,t,n){a=(h=n)().$utils(),n.duration=function(s,t){var i=n.locale();return o(s,{$l:i},t)},n.isDuration=r;var i=t.prototype.add,e=t.prototype.subtract;t.prototype.add=function(s,t){return r(s)?u(this,s,1):i.bind(this)(s,t)},t.prototype.subtract=function(s,t){return r(s)?u(this,s,-1):e.bind(this)(s,t)}}});